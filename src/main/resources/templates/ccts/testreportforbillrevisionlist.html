<!DOCTYPE html>
<!-- <html lang="en" style="--primary01: rgba(77, 101, 217, 0.1); --primary02: rgba(77, 101, 217, 0.2); --primary03: rgba(77, 101, 217, 0.3); --primary04: rgba(77, 101, 217, 0.4); --primary05: rgba(77, 101, 217, 0.5); --primary06: rgba(77, 101, 217, 0.6); --primary07: rgba(77, 101, 217, 0.7); --primary08: rgba(77, 101, 217, 0.8); --primary09: rgba(77, 101, 217, 0.9); --primary005: rgba(77, 101, 217, 0.05);"> -->
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<!-- <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> -->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<meta name="description" content="Section Automation System">
<meta name="author" content="TGSPDCL">

<!-- Title --> 
<title th:text="#{app.title}">TGSPDCL-SAS</title> 

<!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"> -->

<!-- Favicon --> 
<link rel="icon" type="image/x-icon" th:href="@{/assets/img/favicon.ico}" />

<!-- Style css--> 
<link rel="stylesheet" th:href="@{/assets/css/sas.css?v=1.12}" />

<meta http-equiv="imagetoolbar" content="no" />
<style type="text/css">
<!-- input,textarea{-webkit-touch-callout:default;-webkit-user-select:auto;-khtml-user-select:auto;-moz-user-select:text;-ms-user-select:text;user-select:text} *{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:-moz-none;-ms-user-select:none;user-select:none} --></style>
<style type="text/css" media="print">
<!-- body{display:none} -->
</style> 
<!--[if gte IE 5]><frame></frame><![endif]-->
</head>

<body class="main-body leftmenu ltr light-theme color-menu header-dark">
	<div class="horizontalMenucontainer">
		<!-- Loader --> 
		<div id="global-loader"> <img th:src="@{/assets/img/loader.svg}" class="loader-img" alt="Loader"> </div> 
		<!-- End Loader --> 
		<!-- Page --> 
		<div class="page"> 
			<!-- Main Header--> 
			<div class="main-header side-header sticky" style="margin-bottom: -64px;"> 
				<div class="main-container container-fluid"> 
					<div class="main-header-left"> 
						<div th:replace="fragments/topheader :: topheader-left"></div>
					</div> 
					<div class="main-header-center"> 
						 <div th:replace="fragments/topheader :: topheader-center"></div>
					</div> 
					<div class="main-header-right"> 
						 <div th:replace="fragments/topheader :: topheader-right"></div>
						
   					</div> 
  				</div> 
  			</div> 
  			<!-- End Main Header--> 
  			<!-- Sidemenu --> 
  			<div class="sticky" style="margin-bottom: -64px;"> 
  				<div class="main-menu main-sidebar main-sidebar-sticky side-menu ps ps--active-y"> 
  					<div class="main-sidebar-header main-container-1 active"> 
  						<div class="sidemenu-logo"> 
  							<a class="main-logo" href="index.html"> 
  								<img th:src="@{/assets/img/brand/tsspdcl-sas-logo.png}" class="header-brand-img desktop-logo-dark" alt="logo"> 
  								<img th:src="@{/assets/img/brand/icon-light.png}" class="header-brand-img icon-logo-dark" alt="logo"> 
  								<img th:src="@{/assets/img/brand/logo.png}" class="header-brand-img desktop-logo" alt="logo"> 
  								<img th:src="@{/assets/img/brand/icon.png}" class="header-brand-img icon-logo" alt="logo"> 
  							</a> 
  						</div> 
  						<div class="main-sidebar-body main-body-1 is-expanded"> 
  							<div class="slide-left disabled active d-none" id="slide-left">
  								<svg xmlns="http://www.w3.org/2000/svg" fill="#c9bebe" width="24" height="24" viewBox="0 0 24 24">
  								<path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"></path></svg>
  							</div> 
  							<div th:replace="fragments/sidenav :: sasleftnav"></div>
  							
							<div class="slide-right" id="slide-right">
								<svg xmlns="http://www.w3.org/2000/svg" fill="#c9bebe" width="24" height="24" viewBox="0 0 24 24"><path d="M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"></path></svg>
							</div> 
						</div> 
					</div> 
					<!-- <div class="ps__rail-x" style="left: 0px; bottom: 0px;">
						<div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div>
					</div>
					<div class="ps__rail-y" style="top: 0px; right: 0px; height: 945px;">
						<div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 631px;"></div>
					</div> -->
				</div> 
			</div> 
			<!-- End Sidemenu --> 
  			<!-- Main Content--> 
			<div class="main-content side-content pt-0"> 
				<div class="main-container container-fluid"> 
					<div class="inner-body"> 
						<!-- Page Header --> 
						<div class="page-header"> 
							<div> 
								<!-- <h2 class="main-content-title tx-24 mg-b-5" th:text="${pageTitle}"></h2> --> 
								<h2 class="main-content-title tx-24 mg-b-5">Meter Complaints</h2>
								<ol class="breadcrumb"> 
									<li class="breadcrumb-item"><a href="javascript:;">Home</a></li> 
									<li class="breadcrumb-item"><a href="javascript:;">CC</a></li>
									<li class="breadcrumb-item active" aria-current="page" th:text="${pageTitle}"></li>
								</ol>
							</div> 
						</div>
						
						<!-- End Page Header --> 
											
						<!--Row--> 
						<div class="row row-sm"> 
							<div class="col-lg-12"> 
								
								<div class="card custom-card"> 
									<div class="card-header border-bottom"> 
										<h3 class="card-title tx-18 d-flex justify-content-between align-items-center">
											<label class="main-content-label mb-1 card-title-dark" th:text="${pageTitle}"></label>
											<form name="f2" id="f2" method="GET">
												<div class="btn-list">
													<a id="btnShow" type="button" class="btn ripple btn-primary datadelete-table-btn" th:if='${pageTitle.equals("Meter Burnt Complaints")}' th:href="@{|/ccts/ccburntlist/mc/${menuId}|}">Burnt <span class="badge bg-light ms-2 rounded-pill">0</span></a>
													<a id="btnShow" type="button" class="btn ripple btn-outline-primary datadelete-table-btn"  th:unless='${pageTitle.equals("Meter Burnt Complaints")}' th:href="@{|/ccts/ccburntlist/mc/${menuId}|}">Burnt <span class="badge bg-primary ms-2 rounded-pill">0</span></a>
													
													<!-- <a id="btnShow" type="button" class="btn ripple btn-primary datadelete-table-btn"  th:if='${pageTitle.equals("Restoration of power supply")}' data-bs-toggle="dropdown" aria-expanded="false"  th:href="@{|/ccts/ccrestorationofpowersupply/mc/${menuId}|}">Testing <i class="icon ion-ios-arrow-down tx-11 mg-l-3"></i></a> -->
													<a id="btnShow" type="button" class="btn ripple btn-primary datadelete-table-btn" data-bs-toggle="dropdown" aria-expanded="false"  th:if='${subpageTitle.equals("Testing")}'><font color="#fff">Testing</font> <span class="badge bg-light ms-2 rounded-pill">0</span> <font color="#fff"><i class="icon ion-ios-arrow-down tx-11 mg-l-3"></i></font></a>
													<div class="dropdown-menu" style=""> 
														<a class="dropdown-item" th:href="@{|/ccts/ccMRTtestNoticeDownload/mc/${menuId}|}">MRT Testing Notice Download</a>
														<a class="dropdown-item" th:href="@{|/ccts/ccAErequestDate/mc/${menuId}|}">AE Request Date</a>
														<a class="dropdown-item" th:href="@{|/ccts/ccMrtTestforbillRevision/mc/${menuId}|}">MRT Test Report for Bill Revision</a>
													</div>
													
													<a id="btnShow" type="button" class="btn ripple btn-outline-primary datadelete-table-btn" data-bs-toggle="dropdown" aria-expanded="false"  th:unless='${subpageTitle.equals("Testing")}'>Testing <span class="badge bg-primary ms-2 rounded-pill">0</span> <i class="icon ion-ios-arrow-down tx-11 mg-l-3"></i></a>
													<div class="dropdown-menu" style=""> 
														<a class="dropdown-item" th:href="@{|/ccts/ccMRTtestNoticeDownload/mc/${menuId}|}">MRT Testing Notice Download</a>
														<a class="dropdown-item" th:href="@{|/ccts/ccAErequestDate/mc/${menuId}|}">AE Request Date</a>
														<a class="dropdown-item" th:href="@{|/ccts/ccMrtTestforbillRevision/mc/${menuId}|}">MRT Test Report for Bill Revision</a>
													</div>
													
													<a id="btnShow" type="button" class="btn ripple btn-primary datadelete-table-btn"  th:if='${pageTitle.equals("Meter Stuckup Complaint List")}'  th:href="@{|/ccts/ccStuckupList/mc/${menuId}|}">Stuckup <span class="badge bg-light ms-2 rounded-pill">0</span></a>
													<a id="btnShow" type="button" class="btn ripple btn-outline-primary datadelete-table-btn"  th:unless='${pageTitle.equals("Meter Stuckup Complaint List")}' th:href="@{|/ccts/ccStuckupList/mc/${menuId}|}">Stuckup <span class="badge bg-primary ms-2 rounded-pill">0</span></a>
													
													<a id="btnShow" type="button" class="btn ripple btn-primary datadelete-table-btn"  th:if='${pageTitle.equals("Meter Complaints")}'  th:href="@{|/ccts/ccmetercomplaints/mc/${menuId}|}">Others <span class="badge bg-light ms-2 rounded-pill">0</span></a>
													<a id="btnShow" type="button" class="btn ripple btn-outline-primary datadelete-table-btn"  th:unless='${pageTitle.equals("Meter Complaints")}' th:href="@{|/ccts/ccmetercomplaints/mc/${menuId}|}">Others <span class="badge bg-primary ms-2 rounded-pill">0</span></a>
													
													<a id="btnShow" type="button" class="btn ripple btn-outline-primary datadelete-table-btn" data-bs-toggle="dropdown" aria-expanded="false"  th:unless='${subpageTitle.equals("Reports")}'>Reports <i class="icon ion-ios-arrow-down tx-11 mg-l-3"></i></a>
													<div class="dropdown-menu" style=""> 
														<a class="dropdown-item" th:href="@{|/ccts/ccMRTtestNoticeDownload/mc/${menuId}|}">Abstract of Test Report</a>
														<a class="dropdown-item" th:href="@{|/ccts/ccrestorationofpowersupply/mc/${menuId}|}">Testing Dates Report</a>
														<!-- <a class="dropdown-item" th:href="@{|/ccts/ccrestorationofpowersupply/mc/${menuId}|}">MRT Test Report for Bill Revision</a> -->
													</div>
												</div>
											</form>
											
											<!-- <a class="nav-sub-link" th:href="@{|/nsts/ltmotpupdation/ltm/${menuId}|}"><button id="btnShow" type="button" class="btn ripple btn-primary datadelete-table-btn text-end">View List</button></a> -->
											<button id="btnShow" type="button" class="btn ripple btn-primary datadelete-table-btn text-end" th:attr="onClick=|showList()|" style="display:none;">View List</button>
										</h3>
										<!-- <p class="mb-2">LTM Will be Visible here when there is partial release of Services. So, once uploaded successfully, check in to be released.</p> -->
									</div> 
									<div class="card-body card-body-nopad"> 
										<div class="table-responsive"> 
											<div id="recentorders_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">
												<div class="row">
													<div class="col-sm-12">
														<div th:if="${#lists.isEmpty(qclist)}" class="alert alert-secondary d-flex align-items-center" role="alert"> <i class="fe fe-info me-2"></i> <div th:text="#{warning.norecords}">No Records found</div> </div>
														
														<table class="table table-bordered table-striped table-hover border-bottom mb-0 border dataTable no-footer" id="newreglist" role="grid" aria-describedby="newreglist_info" th:if="${not #lists.isEmpty(qclist)}"> 
															<thead>
																<tr role="row">
																	<th>Sl.No.</th>
																	<th>Complaint</br>Number</th>
																	<th>Registration</br>Date</th>
																	<th>Consumer Name</th>
																	<th>Service No</th>
																	<th>Complaint Nature</th>
																	<th>To be Rectified</th>
																	<th>Mobile</th>
																</tr>
															</thead> 
															<tbody> 
																<tr th:each="docreg,iterationStatus : ${qclist}">
																	<td class="font-weight-normal" th:text="${iterationStatus.count}"></td>
																	<td class="font-weight-bold"><a class="docslist" href="javascript:;" th:text="${docreg.complaint_number}" th:id="'doc'+${iterationStatus.count}" th:attr="onClick=|getPowerSupplyDetails('${docreg.complaint_number}','@{/ccts/getPowerSupplyDetails/psd}','${pageTitle}','${docreg.complaint_nature}')|"></a></td>
																	<td class="font-weight-normal" th:text="${docreg.registration_on}"></td>
																	<td class="font-weight-normal text-start" th:text="${docreg.name}"></td>
																	<td class="font-weight-normal text-center" th:text="${docreg.serviceno}"></td>
																	<td class="font-weight-normal text-center" th:text="${docreg.complaint_nature}"></td>
																	<td class="font-weight-normal text-center" th:text="${docreg.tobe_rectified}"></td>
																	<td class="font-weight-normal text-center" th:text="${docreg.mobileno}"></td>
																</tr>
															</tbody>
														</table>
														<!-- <div class="form-group row mb-0 justify-content-center"> 
															<div class="col text-center"> 
																<button class="btn ripple btn-primary" type="button" id="btnShow">Show List</button> 
													 		</div> 
														</div> --> 
														
													</div>
												</div>
											</div> 
										</div> 
										
										<div class="table-responsive" id="consumerDetails">
											<div id="registrationDetails"></div>
											
											
											<div id="sms_form">
												<form method="post" th:object="${uploadpowersupply}" name="f1" id="f1">
												<!--  th:object="${greeting}"   th:action="@{/nsts/sendSMStoLTMLineman/otpc/${menuId}}""-->
												<input type="hidden" name="reg_Id" id="reg_Id"/>
												
												<!-- <div id="verified_span">
													<h6 class="card-content-label mt-3 mb-1 tx-15 font-weight-bold">Certified that the following are verified and found correct</h6>
													<div class="text-wrap">
														<div class="example"> 
															<div class="row row-xs align-items-center mg-b-10"> 
																<div class="col-md-4 text-end"><label class="mg-b-0 tx-semibold tx-14">Sale Deed and other documents furnished</label></div> 
																<div class="col-md-3 mg-t-5 mg-md-t-0">
																	<INPUT TYPE="radio" NAME="sl_deed" value="Y">&nbsp;&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;<INPUT TYPE="radio" NAME="sl_deed" value="N" checked>&nbsp;&nbsp;No
																</div> 
															</div> 
															<div class="row row-sm">
																<div class="row row-xs align-items-center mg-b-10"> 
																	<div class="col-md-4 text-end"><label class="mg-b-0 tx-semibold tx-14" style="vertical-align: top !importent;">Adequacy of security deposit</label></div> 
																	<div class="col-md-3 mg-t-5 mg-md-t-0">
																		<INPUT TYPE="radio" NAME="ad_sd" value="Y">&nbsp;&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;<INPUT TYPE="radio" NAME="ad_sd" value="N" checked>&nbsp;&nbsp;No
																	</div>
																</div> 
															</div>
															<div class="row row-sm">
																<div class="row row-xs align-items-center mg-b-10"> 
																	<div class="col-md-4 text-end"><label class="mg-b-0 tx-semibold tx-14" style="vertical-align: top !importent;">No arrears are outstanding against service</label></div> 
																	<div class="col-md-3 mg-t-5 mg-md-t-0">
																		<INPUT TYPE="radio" NAME="no_ar" value="Y">&nbsp;&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;<INPUT TYPE="radio" NAME="no_ar" value="N" checked>&nbsp;&nbsp;No
																	</div>
																</div> 
															</div>
														</div>
													</div>			
												</div> -->
												
												<div>
													<h6 class="card-content-label mt-3 mb-1 tx-15 font-weight-bold">Action</h6>
													<div class="text-wrap">
														<div class="example"> 
															<!-- <div class="row row-xs align-items-center mg-b-10"> 
																<div class="col-md-3 text-end"><label class="mg-b-0 tx-semibold tx-14">Select Status</label></div> 
																<div class="col-md-3 mg-t-5 mg-md-t-0">
																	<select name="status" id="status" class="form-control select2-no-search select2-hidden-accessible" tabindex="-1" aria-hidden="true"  onChange="getTable(this.value)">
																		<option value="x" selected>Choose one</option>
																		<option value="release">Rectify</option>
																	</select>
																</div> 
															</div> --> 
															<div class="row row-sm">
																<div class="row row-xs align-items-center mg-b-10"> 
																	<div class="col-md-3 text-end"><label class="mg-b-0 tx-semibold tx-14" style="vertical-align: top !importent;">Upload Pdf</label></div> 
																	<div class="col-md-3 mg-t-5 mg-md-t-0">
																		<input class="form-control" type="file" name="qps_doc" id="qps_doc"  accept="application/pdf">
																		<div class="" style="margin-top: 0.25rem;font-size: 85%;color: #4d65d9;"><b>*</b> Upload <b>.pdf</b> format only and File size should be <b>500 kb</b>.</div>
																	</div>
																</div> 
															</div>
															<div class="row row-sm" id="remarks1">
															<div class="row row-xs align-items-center mg-b-10"> 
																<div class="col-md-3 text-end">
																	<label class="mg-b-6 tx-semibold tx-14">Remarks</label>
																	<p class="text-muted card-sub-title">(Max.200 Characters)</p>
																</div> 
																<div class="col-md-3 mg-t-5 mg-md-t-0">
																	<textarea class="form-control" placeholder="Reason (Max.200 Characters)" rows="3" id="remarks" name='remarks'></textarea>
																	
																</div> 
															</div> 
														</div>
															<div class="form-group row mb-0 mt-2 justify-content-center"> 
																<div class="col text-center"> 
																	<button class="btn ripple btn-primary" type="button" id="btnsubmit" onClick="uploadPowerSupply()">Submit</button> 
														 		</div> 
															</div> 
														</div>
													</div>				
												</div>
												</form>
											</div>
										</div>
										
									</div>
								</div>
							</div>
						</div>
						<!--End row--> 
					</div>
				</div>
			</div>
		</div>		 
	</div>

	<!-- End Main Content--> 
	<!-- Main Footer--> 
	<div th:replace="fragments/footer :: sasfooter"></div>
	<!--End Footer--> 
	</div> 
	<!-- End Page --> 
	<!-- Back-to-top --> 
		<a href="#top" id="back-to-top"><i class="fe fe-arrow-up"></i></a> 
	</div>
	<div class="main-navbar-backdrop"></div>
	</div>
	<!-- Jquery js--> 
	<script th:src="@{/assets/js/plugins/jquery.min.js}"></script>
	<!-- <script th:src="@{/assets/js/plugins/jquery-3.3.1.min.js"></script> -->
	<script th:src="@{/assets/js/plugins/bootstrap/popper.min.js}"></script>
	<script th:src="@{/assets/js/plugins/bootstrap/bootstrap.min.js}"></script>
	<script th:src="@{/assets/js/plugins/perfect-scrollbar/perfect-scrollbar.min.js}"></script>
	<script th:src="@{/assets/js/plugins/perfect-scrollbar/pscroll1.js}"></script>
	<script th:src="@{/assets/js/plugins/sidemenu/sidemenu.js}"></script>
	<script th:src="@{/assets/js/plugins/sidebar/sidebar.js}"></script>
	<script th:src="@{/assets/js/plugins/select2.min.js}"></script>
	<!--  Data Table -->
	<script th:src="@{/assets/js/plugins/datatable/jquery.dataTables.min.js}"></script>
	<script th:src="@{/assets/js/plugins/datatable/dataTables.bootstrap5.js}"></script>
	<script th:src="@{/assets/js/plugins/datatable/dataTables.responsive.min.js}"></script>
	<script th:src="@{/assets/js/index.js}"></script>
	
	<!--  Chart  -->
	<script th:src="@{/assets/js/chart.chartjs.js}" type="text/javascript"></script>
	<script th:src="@{/assets/js/plugins/chart/chart.bundle.min.js}" type="text/javascript"></script>
	<!-- <script th:src="@{assets/js/plugins/raphael/raphael.min.js}"></script>
	<script th:src="@{assets/js/plugins/morris.js/morris.min.js}"></script> -->
	<!--  Chart  -->
	<script th:src="@{/assets/js/select2.js}" type="text/javascript"></script>
		
	<script th:src="@{/assets/js/themeColors.js}"></script>
	<script th:src="@{/assets/js/sticky.js}"></script>
	<script th:src="@{/assets/js/switcher-styles.js}"></script>
	<script th:src="@{/assets/js/custom.js}"></script>
	<script th:src="@{/assets/js/switcher/switcher.js}"></script>
	
	<script th:src="@{/assets/js/sascc.script.js}"></script>
	<script>
	$(document).ready(function(){
		  $("#lmphone").on("blur", function(){
			  var regex = /^(0|91)?[6-9][0-9]{9}$/;
	            if (regex.test($("#lmphone").val())) {
	                $("#lblError").css("visibility", "hidden");
	            } else {
	                $("#lblError").css("visibility", "visible");
	            }
		  });
	});
	</script>
</body>
</html>